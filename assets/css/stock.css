/* =========================================================
   Stock — 5 tableaux visibles en même temps
   - Colonne GAUCHE : Toners (haut) + Papier (bas)
   - Colonne DROITE : Photocopieurs (haut) + LCD (milieu) + PC (bas)
   - Sans scroll page : cartes à hauteur fixe, scroll interne si besoin
   ========================================================= */

html, body { max-width: 100%; overflow-x: hidden; }

.page-container {
  max-width: 1400px; /* un peu plus large pour tout caser */
  margin: 0 auto;
  padding: 1.0rem 1.0rem;
}

.page-header { margin-bottom: 0.75rem; }
.page-title  { margin: 0; font-size: 1.4rem; font-weight: 800; }
.page-subtitle { margin: .25rem 0 0 0; color: var(--text-secondary); }

.filters-row {
  margin-bottom: .75rem;
  display: flex; gap: .75rem; align-items: center; flex-wrap: wrap;
}
.filters-row input[type="text"]{
  flex: 1; min-width: 260px;
  padding: .55rem .75rem;
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md);
  background: var(--bg-primary);
  color: var(--text-primary);
}

/* === Grille principale === */
.stock-grid {
  display: grid;
  grid-template-columns: 1fr 1.4fr; /* gauche / droite */
  gap: .75rem;
  /* on réserve une hauteur "plein écran moins header" */
  min-height: calc(100vh - 180px);
}

/* Cartes */
.card-section {
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  min-width: 0;
}

/* Colonne gauche : 2 cartes empilées */
.card-section.left.tall { height: 52vh; }
.card-section.left.short{ height: 42vh; }

/* Colonne droite : 3 cartes empilées */
.card-section.right.top    { height: 32vh; }
.card-section.right.middle { height: 30vh; }
.card-section.right.bottom { height: 32vh; }

/* Tête de section */
.section-head {
  display: flex; align-items: center; justify-content: space-between;
  padding: .55rem .75rem;
  border-bottom: 1px solid var(--border-color);
  background: var(--bg-secondary);
}
.section-title { margin: 0; font-size: 1.05rem; font-weight: 800; }

/* Tableaux */
.table-wrapper {
  overflow: auto; /* scroll interne si ça déborde */
  flex: 1;
}
.tbl-stock {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  table-layout: auto;
}
.tbl-stock thead th{
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  font-weight: 700;
  font-size: .9rem;
  padding: .5rem .6rem;
  border-bottom: 1px solid var(--border-color);
  text-align: left;
  position: sticky; top: 0; z-index: 1; /* header collant dans la carte */
}
.tbl-stock tbody td{
  padding: .5rem .6rem;
  border-bottom: 1px solid var(--border-color);
  vertical-align: top;
  white-space: nowrap;
}
.tbl-stock tbody tr:hover { background: var(--bg-secondary); }
.td-metric { font-weight: 700; text-align: right; }

/* État A/B/C (badge) */
.state {
  display:inline-flex; align-items:center; justify-content:center;
  min-width: 1.6rem; height: 1.35rem; padding: 0 .4rem;
  border-radius: 999px; font-weight: 800; font-size: .8rem;
  border: 1px solid var(--border-color);
  background: var(--bg-primary);
  color: var(--text-primary);
}
.state-A { background: #dcfce7; color: #166534; border-color: #86efac; }  /* vert - neuf */
.state-B { background: #fef9c3; color: #854d0e; border-color: #fde68a; }  /* jaune - moyen */
.state-C { background: #fee2e2; color: #991b1b; border-color: #fecaca; }  /* rouge - usé */
.state-na { background: var(--bg-secondary); color: var(--text-muted); }

/* Quantité 0 en rouge vif */
.td-metric.is-zero { color: #b91c1c; font-weight: 800; }

/* Responsif minimal (si écran étroit, on autorise la page à scroller) */
@media (max-width: 1100px) {
  .stock-grid { grid-template-columns: 1fr; }
  .card-section { height: auto; }
  .table-wrapper { max-height: 45vh; }
}
